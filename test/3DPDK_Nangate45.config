# 3D PDK Configuration Example
openroad_root: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework
workspace_dir: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/outputs
integration_mode: hybrid  # top-level mode (optional: hybrid/F2F/F2B/B2B)
tolerance_xy: 0.1
tolerance_z: 0.5
tracks_file_path: 3D_integration_tracks.tcl

# ------------------------------------------------------------
# Tier definitions
# ------------------------------------------------------------
tiers:
  - id: T0
    name: logic_tier
    role: logic
    orientation: R0
    pdk:
      name: nangate45
      root: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/nangate45
      db_path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/inputs/2D_PDK_Nangate45_with_verilog.db
      liberty_files:
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_typ.lib
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_fast.lib
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_slow.lib
    thickness: 20.0
    offset_z: 0.0
    flip_x: false
    flip_y: false
    min_metal_layer: metal1
    max_metal_layer: metal10
    preferred_tracks: 4
    vdd_net: VDD
    gnd_net: VSS
    strap_pitch: 2.0
    pad_ring: pad_ring_logic

  - id: T1
    name: cache_tier
    role: cache
    orientation: MX
    pdk:
      name: nangate45
      root: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/nangate45
      db_path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/inputs/2D_PDK_Nangate45_with_verilog.db
      liberty_files:
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_typ.lib
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_fast.lib
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_slow.lib
    thickness: 15.0
    offset_z: 25.0
    flip_x: true
    flip_y: false
    min_metal_layer: metal1
    max_metal_layer: metal5
    preferred_tracks: 3
    vdd_net: VDD
    gnd_net: VSS
    strap_pitch: 2.5
    pad_ring: pad_ring_cache

  - id: T2
    name: memory_tier
    role: memory
    orientation: MY
    pdk:
      name: nangate45
      root: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/nangate45
      db_path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/inputs/2D_PDK_Nangate45_with_verilog.db
      liberty_files:
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_typ.lib
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_fast.lib
        - path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/test/Nangate45/Nangate45_slow.lib
    thickness: 10.0
    offset_z: 45.0
    flip_x: false
    flip_y: true
    min_metal_layer: metal1
    max_metal_layer: metal7
    preferred_tracks: 2
    vdd_net: VDD
    gnd_net: VSS
    strap_pitch: 3.0
    pad_ring: pad_ring_memory

# ------------------------------------------------------------
# Integration map (explicit tier stacking)
# ------------------------------------------------------------
integration_stack:
  - from_tier: logic_tier
    to_tier: cache_tier
    integration_type: F2F
    bonding_mode: hybrid_bond
    bonding_interface_layer: BOND_LYR_LC
    interconnects:
      - type: TSV
        name: TSV_L2
        lef_path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/inputs/TSV_L2.lef
        # --- Enclosure info ---
        bottom_enclosure: [2.0, 2.0]  # XBottom, YBottom
        top_enclosure: [3.0, 3.0]     # XTop, YTop
      - type: Microbump
        name: MB_L2
        lef_path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/inputs/MB_L2.lef
        # --- Enclosure info ---
        bottom_enclosure: [5.0, 5.0]
        top_enclosure: [6.0, 6.0]

  - from_tier: cache_tier
    to_tier: memory_tier
    integration_type: B2B
    bonding_mode: adhesive_bond
    bonding_interface_layer: BOND_LYR_CM
    interconnects:
      - type: TSV
        name: TSV_C2M
        lef_path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/inputs/TSV_C2M.lef
        # --- Enclosure info ---
        bottom_enclosure: [1.5, 1.5]
        top_enclosure: [2.5, 2.5]
      - type: Microbump
        name: MB_C2M
        lef_path: /home/Basic_Storage/PhD/Projects/Native_3D_OpenROAD_Project/OpenROAD_3DPDK_Creation_Framework/3D_workspace/inputs/MB_C2M.lef
        # --- Enclosure info ---
        bottom_enclosure: [3.0, 3.0]
        top_enclosure: [4.0, 4.0]

# ------------------------------------------------------------
# Composite Technology
# ------------------------------------------------------------
composite:
  tech_lef: composite_3d.lef
  combined_lef: combined_tiers.lef
  combined_lib: combined_tiers.lib
  vertical_spacing: 5.0

# ------------------------------------------------------------
# Parasitics
# ------------------------------------------------------------
parasitics:
  inter_tier_rc_model: rc_model.tbl
  coupling_coefficient: 0.8

# ------------------------------------------------------------
# Thermal
# ------------------------------------------------------------
thermal:
  interface_material: TIM_CuSn
  interface_thickness: 2.0
  conductivity:
    Si: 150.0
    Cu: 400.0
    SnAg: 80.0
    Adhesive: 2.0
